(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2339a1e8"],{1087:function(t,e,n){"use strict";var a=n("cf1f"),o=n.n(a);o.a},"40e2":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"choose-company-container",attrs:{"element-loading-text":"Aguarde..."}},[t.companies.length>=2?n("el-form",{staticClass:"choose-company-form",attrs:{"label-position":"left"}},[n("div",{staticClass:"title-container"},[n("h3",{staticClass:"title"},[t._v("Selecione uma empresa")])]),t._v(" "),n("el-form-item",{attrs:{prop:"company_id"}},[n("el-select",{attrs:{filterable:""},on:{change:function(e){return t.setCompany(t.company_id)}},model:{value:t.company_id,callback:function(e){t.company_id=e},expression:"company_id"}},t._l(t.companies,(function(t){return n("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1)],1):t._e()],1)},o=[],r=n("fcac"),c=n("b775");function i(t){return Object(c["a"])({url:"/profile/choose-company",method:"put",data:t})}var u={data:function(){return{company_id:null,companies:[],loading:!1,redirect:void 0}},created:function(){var t=this;this.loading=!0,Object(r["d"])().then((function(e){t.companies=e.data.data,0==t.companies.length?t.$alert("Você não tem empresa","Atenção",{confirmButtonText:"OK",type:"error"}).finally((function(){t.$store.dispatch("user/logout"),t.$router.push("/login")})):1==t.companies.length?t.setCompany(t.companies[0].id):t.loading=!1}))},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},methods:{setCompany:function(t){var e=this;this.loading=!0,i({company_id:t}).then((function(t){e.$store.dispatch("user/setProfile",t.data.data),e.$router.push({path:e.redirect||"/"})}))}}},l=u,s=(n("1087"),n("2877")),d=Object(s["a"])(l,a,o,!1,null,"5e07b310",null);e["default"]=d.exports},cf1f:function(t,e,n){},fcac:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return r})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return d}));var a=n("b775");function o(t){return Object(a["a"])({url:"/company",method:"get",params:t})}function r(){return Object(a["a"])({url:"/company/all",method:"get"})}function c(t){return Object(a["a"])({url:"/company/"+t,method:"get"})}function i(t){return Object(a["a"])({url:"/company",method:"post",data:t})}function u(t,e){return Object(a["a"])({url:"/company/"+e,method:"put",data:t})}function l(t,e){return e?u(t,e):i(t)}function s(t){return Object(a["a"])({url:"/company/"+t,method:"delete"})}function d(t){return Object(a["a"])({url:"/company/file",method:"delete",data:{id:t}})}}}]);