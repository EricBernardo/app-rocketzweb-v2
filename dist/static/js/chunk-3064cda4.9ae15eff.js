(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3064cda4"],{"2ad9":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-card",[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{md:12,sm:24}},["root"==t.profile.role?i("el-form-item",{attrs:{label:"Empresa",prop:"company_id"}},[i("el-select",{attrs:{filterable:"",disabled:t.loading},model:{value:t.form.company_id,callback:function(e){t.$set(t.form,"company_id",e)},expression:"form.company_id"}},t._l(t.companies,(function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1):t._e()],1),t._v(" "),i("el-col",{attrs:{md:12,sm:24}},[i("el-form-item",{attrs:{label:"Título",prop:"title"}},[i("el-input",{attrs:{disabled:t.loading},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:12,sm:24}},[i("el-form-item",{directives:[{name:"mask",rawName:"v-mask",value:"###.###.###-##",expression:"'###.###.###-##'"}],attrs:{label:"CPF",prop:"cpf"}},[i("el-input",{attrs:{disabled:t.loading},model:{value:t.form.cpf,callback:function(e){t.$set(t.form,"cpf",e)},expression:"form.cpf"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:12,sm:24}},[i("el-form-item",{attrs:{label:"Estado",prop:"state_id"}},[i("el-select",{attrs:{filterable:"",disabled:t.loading||t.loading_cities},on:{change:function(e){return t.getCities(!0)}},model:{value:t.form.state_id,callback:function(e){t.$set(t.form,"state_id",e)},expression:"form.state_id"}},t._l(t.states,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),t._v(" "),i("el-col",{attrs:{md:12,sm:24}},[i("el-form-item",{attrs:{label:"Cidade",prop:"city_id"}},[i("el-select",{attrs:{filterable:"",disabled:t.loading||t.loading_cities},model:{value:t.form.city_id,callback:function(e){t.$set(t.form,"city_id",e)},expression:"form.city_id"}},t._l(t.cities,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),t._v(" "),i("el-col",{attrs:{md:12,sm:24}},[i("el-form-item",{attrs:{label:"Endereço",prop:"address"}},[i("el-input",{attrs:{disabled:t.loading},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:12,sm:24}},[i("el-form-item",{attrs:{label:"IE",prop:"ie"}},[i("el-input",{attrs:{disabled:t.loading},model:{value:t.form.ie,callback:function(e){t.$set(t.form,"ie",e)},expression:"form.ie"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:24,sm:24}},[i("el-form-item",[i("router-link",{staticClass:"pull-left",attrs:{to:"/shipping_company"}},[i("el-button",{attrs:{size:"mini"}},[t._v("Voltar")])],1),t._v(" "),i("el-button",{staticClass:"pull-right",attrs:{size:"mini",loading:t.loading,type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("Salvar")])],1)],1)],1)],1)],1)],1)},n=[],r=(i("7f7f"),i("456d"),i("ac6a"),i("db72")),o=i("2f62"),l=i("4867"),s=i("c591"),c=i("8c52"),u=i("fcac"),d={data:function(){return{loading:!1,loading_cities:!1,states:[],cities:[],companies:[],form:{company_id:null,title:null,address:null,state_id:null,city_id:null,cpf:null,ie:null},rules:{company_id:[{required:!0,message:"Campo obrigatório"}],title:[{required:!0,message:"Campo obrigatório"}],address:[{required:!0,message:"Campo obrigatório"}],state_id:[{required:!0,message:"Campo obrigatório"}],city_id:[{required:!0,message:"Campo obrigatório"}],cpf:[{required:!0,message:"Campo obrigatório"}],ie:[{required:!0,message:"Campo obrigatório"}]}}},computed:Object(r["a"])({},Object(o["b"])(["profile"])),created:function(){var t=this;Object(l["a"])().then((function(e){t.states=e.data.data})),"root"==this.profile.role&&Object(u["d"])().then((function(e){t.companies=e.data.data})),this.$route.params.id&&(this.loading=!0,Object(c["e"])(this.$route.params.id).then((function(e){Object.keys(t.form).forEach((function(i){t.form[i]=e.data.data[i],"state_id"==i&&t.getCities()})),t.loading=!1})))},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate((function(i){i&&(e.loading=!0,Object(c["d"])(e.form,e.$route.params.id).then((function(i){e.$message({message:"Salvo com sucesso",type:"success",duration:5e3}),e.$route.params.id||e.$refs[t].resetFields()})).finally((function(t){e.loading=!1})))}))},getCities:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this;a.loading_cities=!0,Object(s["a"])(this.form.state_id).then((function(n){t.cities=n.data.data;var r=t.form;e&&(r.city_id=null,i&&t.cities.map((function(t){t.name==i&&(r.city_id=t.id)}))),a.loading_cities=!1}))}}},m=d,f=i("2877"),p=Object(f["a"])(m,a,n,!1,null,null,null);e["default"]=p.exports},"456d":function(t,e,i){var a=i("4bf8"),n=i("0d58");i("5eda")("keys",(function(){return function(t){return n(a(t))}}))},4867:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var a=i("b775");function n(){return Object(a["a"])({url:"/state",method:"get"})}},"5eda":function(t,e,i){var a=i("5ca1"),n=i("8378"),r=i("79e5");t.exports=function(t,e){var i=(n.Object||{})[t]||Object[t],o={};o[t]=e(i),a(a.S+a.F*r((function(){i(1)})),"Object",o)}},"8c52":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"e",(function(){return o})),i.d(e,"d",(function(){return c})),i.d(e,"a",(function(){return u}));var a=i("b775");function n(t){return Object(a["a"])({url:"/shipping_company",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/shipping_company/all",method:"get",params:t})}function o(t){return Object(a["a"])({url:"/shipping_company/"+t,method:"get"})}function l(t){return Object(a["a"])({url:"/shipping_company",method:"post",data:t})}function s(t,e){return Object(a["a"])({url:"/shipping_company/"+e,method:"put",data:t})}function c(t,e){return e?s(t,e):l(t)}function u(t){return Object(a["a"])({url:"/shipping_company/"+t,method:"delete"})}},c591:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var a=i("b775");function n(t){return Object(a["a"])({url:"/city/"+t,method:"get"})}},fcac:function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return r})),i.d(e,"f",(function(){return o})),i.d(e,"e",(function(){return c})),i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return d}));var a=i("b775");function n(t){return Object(a["a"])({url:"/company",method:"get",params:t})}function r(){return Object(a["a"])({url:"/company/all",method:"get"})}function o(t){return Object(a["a"])({url:"/company/"+t,method:"get"})}function l(t){return Object(a["a"])({url:"/company",method:"post",data:t})}function s(t,e){return Object(a["a"])({url:"/company/"+e,method:"put",data:t})}function c(t,e){return e?s(t,e):l(t)}function u(t){return Object(a["a"])({url:"/company/"+t,method:"delete"})}function d(t){return Object(a["a"])({url:"/company/file",method:"delete",data:{id:t}})}}}]);